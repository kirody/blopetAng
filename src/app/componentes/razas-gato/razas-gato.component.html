<div class="fondo">
    <div class="container pt-3 pb-5">
        <h3>Gatos en adopción</h3>
        <hr>
        <div *ngIf="!animales">
            <p>No existen resultados</p>
        </div>
        <div *ngIf="animales">
            <h6><span class="badge badge-secondary">Numero de registros: {{numAnimales}}</span></h6>
            <div class="row ">
                <div *ngFor="let animal of animales | paginate: {itemsPerPage: 7, currentPage: pageActual}"
                    class="col-md-3 d-flex justify-content-center">
                    <div class="card mb-3 shadow">
                        <div *ngIf="animal.imagen" class="img-container">
                            <a [routerLink]="['/animal', animal.id]"><img
                                    src="http://localhost:8080/Angular/blopet/uploads/{{animal.imagen}}"
                                    class="card-img-top img-animal img-thumbnail" alt="..."></a>
                        </div>
                        <div *ngIf="!animal.imagen">
                            <div class="img-relleno"></div>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title text-capitalize">{{animal.nombre}}</h5>
                            <p class="card-text">Edad: {{animal.edad}}</p>
                            <p class="card-text">Sexo: {{animal.sexo}}</p>
                            <div class="row">
                                <div class="col-6">
                                    <a [routerLink]="['/animal', animal.id]" class="btn btn-info btn-sm"><img
                                            style="width: 15px; height: 15px; margin: 0 5px 2px 0;"
                                            src="../../../assets/icons/icon-eye.png" alt="">Ver</a>
                                </div>
                                <!-- [routerLink]="['/editar-animal', animal.id]" -->
                                <div class="col-6 d-flex justify-content-end" *ngIf="admin">
                                    <a [routerLink]="['/editar-animal', animal.id]"
                                        class="btn btn-secondary btn-sm mr-2"><img
                                            style="width: 15px; margin-bottom: 2px;"
                                            src="../../../assets/icons/icon-edit.png" alt=""></a>
                                    <a (click)="borrarConfirm(animal.id)" data-toggle="modal"
                                        data-target="#staticBackdrop" class="btn btn-danger btn-sm"><img
                                            style="width: 15px; height: 15px; margin-bottom: 2px;"
                                            src="../../../assets/icons/icon-delete-trash.png" alt=""></a>
                                </div>
                            </div>
                        </div>
                        <!-- Modal Confirmar elminar animal -->
                        <div *ngIf="confirmado == animal.id" class="modal fade" id="staticBackdrop"
                            data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog"
                            aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="staticBackdropLabel">Eliminar animal</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        ¿Estás seguro/a de que deseas eliminar este animal?
                                    </div>
                                    <div class="modal-footer">
                                        <button (click)="onDeleteAnimal(animal.id)" type="button" class="btn btn-danger"
                                            data-dismiss="modal">Eliminar</button>
                                        <button (click)="cancelarConfirm()" type="button" class="btn btn-secondary"
                                            data-dismiss="modal">Cancelar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <pagination-controls class="my-pagination" (pageChange)="pageActual = $event" previousLabel="Anterior"
            nextLabel="Siguiente">
        </pagination-controls>
    </div>
</div>